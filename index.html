<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SRT to Plain TXT Converter</title>
  <style>
    body { font-family: sans-serif; padding: 2em; max-width: 600px; margin: auto; }
    input { margin-top: 1em; }
    h2 { color: #333; }
  </style>
</head>
<body>
  <h2>Upload SRT File â†’ Get Plain TXT</h2>
  <input type="file" accept=".srt" onchange="convertSRT(this.files[0])" />
  <p id="status"></p>

  <script>
function convertSRT(file) {
  if (!file.name.endsWith('.srt')) {
    alert('Please upload a .srt file');
    return;
  }

  const reader = new FileReader();
  reader.onload = () => {
    const lines = reader.result.split(/\r?\n/);
    let output = '';

    for (let line of lines) {
      if (
        /^\d+$/.test(line.trim()) || // Line number
        /^\d{2}:\d{2}:\d{2},\d{3}/.test(line.trim()) || // Timestamp
        line.trim() === ''
      ) {
        continue;
      }

      // Remove leading hyphen (and optional space) only
      let cleanedLine = line.replace(/^\s*-\s*/, '');
      output += cleanedLine.trim() + ' ';
    }

    output = output.replace(/\s+/g, ' ').trim();

    const blob = new Blob([output], { type: 'text/plain' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = file.name.replace(/\.srt$/i, '.txt');
a.click();

// Wait briefly to ensure download starts, then redirect to Grammarly
setTimeout(() => {
  window.location.href = 'https://app.grammarly.com/';
}, 800);

}
  </script>
</body>
</html>

